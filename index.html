<!doctype html>

<head>
  <meta charset="utf-8">

  <title>Explore Fingal</title>

  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, minimum-scale = 1, maximum-scale = 1">

  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="img/h/apple-touch-icon.png">
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="img/m/apple-touch-icon.png">
  <link rel="apple-touch-icon-precomposed" href="img/l/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="img/l/apple-touch-icon.png">

  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <script>(function(a,b,c){if(c in b&&b[c]){var d,e=a.location,f=/^(a|html)$/i;a.addEventListener("click",function(a){d=a.target;while(!f.test(d.nodeName))d=d.parentNode;"href"in d&&(d.href.indexOf("http")||~d.href.indexOf(e.host))&&(a.preventDefault(),e.href=d.href)},!1)}})(document,window.navigator,"standalone")</script>
  <link rel="apple-touch-startup-image" href="img/l/splash.png">

  <meta http-equiv="cleartype" content="on">
  <link rel="stylesheet" href="css/style.css">

   <script>
	var dojoConfig = {
		async: true,
		parseOnLoad: false,
		paths:{  
			"app":"../../app"
		}
		// deps:["release/main"]
	};
  </script>
  <script src="js/lib/dojo/dojo.js"></script>
  <script src="js/lib/dojox/mobile/deviceTheme.js"></script>

  <script>
  		viewCache =  [];
  		progressIndicator = null;
		require(['app/controller/Main', 'dojox/mobile/parser', 'dojox/mobile/compat'],  function (Main, parser) {
			//parse all widgets on page
			parser.parse();
			setTimeout(Main.setStartPage, 200);
			//global function
			this.setActivity = function(args){
				Main.setActivity(args)
			};
		});
		//async loading of google maps
		require([ 'http://maps.googleapis.com/maps/api/js?sensor=true&callback=InitializeMap'], function(){ 
			//do nothing 
		});
 		
 		//The initial google map url just loads a bootstrap file that doesn't include the map functions, 
 		//Pass this function in the url to get called when google map api is loaded.
		function InitializeMap(){
 			require(['app/views/Map', 'dojo/ready'], function(Map, ready){ 
 				//ready called after dom is loaded and widgets are parsed
 				ready(function(){
  					viewCache['Map'] = new Map();
 				});
 			});
		}

   </script>
</head>

<body>
	<div id="contentContainer" style="display: none">
		<div data-dojo-type="dojox.mobile.View"  id="setupView" >
			<h1 data-dojo-type="dojox.mobile.Heading" data-dojo-props="fixed: 'top'">Explore Fingal Challenge</h1>
			<h2 data-dojo-type="dojox.mobile.RoundRectCategory">Setup</h2>
			<div dojoType="dojox.mobile.RoundRect" shadow="true">
				<form id="gameSetupForm">
					<div>
						<label for="input1">Test1</label>
						<input data-dojo-type="dojox.mobile.TextBox" id="input1" data-dojo-props="selectOnClick:'true', placeHolder:'enter something'">
					</div>
					<div>
						<label for="input2">Test2</label><input data-dojo-type="dojox.mobile.TextBox" id="input2" data-dojo-props="selectOnClick:'true', placeHolder:'enter something'">
					</div>
					<div data-dojo-type="dojox.mobile.ListItem" data-dojo-props="moveTo:'activityListView'"></div>
					<div data-dojo-type="dojox.mobile.ListItem" data-dojo-props="moveTo:'activityDetailView'" id="mockTaskPageLink">go to mock task page</div>
					<div>
						<input type="submit"  id="startGameBtn" data-dojo-type="dojox.mobile.Button" value="Submit"/>
					</div>
				</form>
			</div>
    	</div>
		
		<div data-dojo-type="dojox.mobile.ScrollableView" id="activityDetailView">
	    	<h1 data-dojo-type="dojox.mobile.Heading" data-dojo-props="fixed: 'top'">Explore Fingal Challenge</h1>
			<img src="" alt="" style="padding: 10px; float: left;" id="taskListViewImage"/>
			<h2 id="taskListViewTitle">Initial, change.</h2>
			<div id="taskListViewTaskContainer"></div>
			<div data-dojo-type="dojox.mobile.ListItem" data-dojo-props="moveTo:'setupView'"></div>
			<h1 dojoType="dojox.mobile.Heading" fixed="bottom">
	    		<ul data-dojo-type="dojox.mobile.TabBar" class="tabBar" data-dojo-props="barType:'segmentedControl'">
					<li data-dojo-type="dojox.mobile.TabBarButton" id="taskListView_listBtn" data-dojo-props="selected:'true'">List</li>
					<li data-dojo-type="dojox.mobile.TabBarButton" id="taskListView_mapBtn">Map</li>
				</ul>
			</h1>
		</div>
		
		
		<div data-dojo-type="dojox.mobile.View" selected="true" id="activityGroupView">
			
			<div data-dojo-type="dojox.mobile.ScrollableView" id="activityListView">
				<h1 data-dojo-type="dojox.mobile.Heading" back="New Game" moveTo="setupView" data-dojo-props="fixed: 'top'">Explore Fingal Challenge - Activities</h1>
				<ul data-dojo-type="dojox.mobile.RoundRectList" id="activityList"></ul>
			</div>
			
			<div data-dojo-type="dojox.mobile.View"  id="mapView">
				<h1 data-dojo-type="dojox.mobile.Heading"  back="New Game" moveTo="setupView"  data-dojo-props="fixed: 'top'">Explore Fingal Challenge - Activities Map</h1>
				<div id="map_canvas" style=""></div>
			</div>
			
			<h1 dojoType="dojox.mobile.Heading" fixed="bottom" style="margin-top: -41px;">
	    		<ul data-dojo-type="dojox.mobile.TabBar"  class="tabBar"  barType="segmentedControl">
						<li data-dojo-type="dojox.mobile.TabBarButton" moveTo="activityListView" selected="true" id="activListBtn">List</li>
						<li data-dojo-type="dojox.mobile.TabBarButton" moveTo="mapView" id="activMapBtn">Map</li>
				</ul>
			</h1>
		</div>
		
    </div>
</body>
</html>